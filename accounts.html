<!DOCTYPE html>
<html>
<head>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&amp;family=Plus+Jakarta+Sans%3Awght%40400%3B500%3B700%3B800"
    />
    <title>Account Settings - FreshFoods</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
</head>
<body>
    <div class="relative flex size-full min-h-screen flex-col bg-[#fcf8f8] group/design-root overflow-x-hidden" style='font-family: "Plus Jakarta Sans", "Noto Sans", sans-serif;'>
        <div class="layout-container flex h-full grow flex-col">
            <header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#f3e7e8] px-10 py-3">
                <div class="flex items-center gap-4 text-[#1b0e0f]">
                    <button onclick="window.location.href='Home.html'" class="flex items-center gap-2 text-[#1b0e0f] hover:text-[#994d51] transition-colors">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                        </svg>
                        <span class="text-sm font-medium">Back to Home</span>
                    </button>
                    <div class="size-4">
                        <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_6_535)">
                                <path
                                    fill-rule="evenodd"
                                    clip-rule="evenodd"
                                    d="M47.2426 24L24 47.2426L0.757355 24L24 0.757355L47.2426 24ZM12.2426 21H35.7574L24 9.24264L12.2426 21Z"
                                    fill="currentColor"
                                ></path>
                            </g>
                            <defs>
                                <clipPath id="clip0_6_535"><rect width="48" height="48" fill="white"></rect></clipPath>
                            </defs>
                        </svg>
                    </div>
                    <h2 class="text-[#1b0e0f] text-lg font-bold leading-tight tracking-[-0.015em]">FreshFoods</h2>
                </div>
            </header>
            
            <div class="px-40 flex flex-1 justify-center py-5">
                <div class="layout-content-container flex flex-col w-[512px] max-w-[512px] py-5 max-w-[960px] flex-1">
                    <div class="flex flex-wrap justify-between gap-3 p-4">
                        <h1 class="text-[#1b0e0f] tracking-light text-[32px] font-bold leading-tight min-w-72">Account Settings</h1>
                    </div>
                    
                    <!-- Profile Photo Section -->
                    <div class="bg-white rounded-xl shadow-md p-6 mb-6">
                        <h3 class="text-xl font-bold mb-4 text-[#994d51]">Profile Photo</h3>
                        <div class="flex flex-col items-center gap-4">
                            <div class="relative">
                                <div id="profile-photo-preview" class="w-32 h-32 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden border-4 border-[#f3e7e8]">
                                    <img id="profile-photo-img" src="" alt="Profile Photo" class="w-full h-full object-cover hidden" />
                                    <svg id="profile-photo-placeholder" class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                    </svg>
                                </div>
                                <button onclick="document.getElementById('profile-photo-input').click()" class="absolute bottom-0 right-0 bg-[#994d51] text-white p-2 rounded-full hover:bg-[#7a3d41] transition-colors">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                    </svg>
                                </button>
                            </div>
                            <input type="file" id="profile-photo-input" accept="image/*" class="hidden" onchange="handleProfilePhotoUpload(event)" />
                            <div class="flex gap-3">
                                <button onclick="document.getElementById('profile-photo-input').click()" class="bg-[#994d51] text-white px-4 py-2 rounded-lg font-medium hover:bg-[#7a3d41] transition-colors">
                                    Upload Photo
                                </button>
                                <button onclick="removeProfilePhoto()" class="bg-gray-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-gray-600 transition-colors">
                                    Remove Photo
                                </button>
                            </div>
                            <p class="text-sm text-gray-600 text-center">Upload a profile photo to personalize your account</p>
                        </div>
                    </div>
                    
                    <!-- Personal Information Section -->
                    <div class="bg-white rounded-xl shadow-md p-6 mb-6">
                        <h3 class="text-xl font-bold mb-4 text-[#994d51]">Personal Information</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block text-[#1b0e0e] font-medium mb-2">First Name</label>
                                <p id="display-firstname" class="text-[#1b0e0e] p-3 bg-gray-50 rounded-lg border">Not provided</p>
                            </div>
                            <div>
                                <label class="block text-[#1b0e0e] font-medium mb-2">Last Name</label>
                                <p id="display-lastname" class="text-[#1b0e0e] p-3 bg-gray-50 rounded-lg border">Not provided</p>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-[#1b0e0e] font-medium mb-2">Email Address</label>
                                <p id="display-email" class="text-[#1b0e0e] p-3 bg-gray-50 rounded-lg border">Not provided</p>
                            </div>
                            <div>
                                <label class="block text-[#1b0e0e] font-medium mb-2">Phone Number</label>
                                <p id="display-phone" class="text-[#1b0e0e] p-3 bg-gray-50 rounded-lg border">Not provided</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Address Information Section -->
                    <div class="bg-white rounded-xl shadow-md p-6 mb-6">
                        <h3 class="text-xl font-bold mb-4 text-[#994d51]">Address Information</h3>
                        <div class="mb-4">
                            <label class="block text-[#1b0e0e] font-medium mb-2">Delivery Address</label>
                            <p id="display-address" class="text-[#1b0e0e] p-3 bg-gray-50 rounded-lg border">Not provided</p>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block text-[#1b0e0e] font-medium mb-2">Pin Code</label>
                                <p id="display-pincode" class="text-[#1b0e0e] p-3 bg-gray-50 rounded-lg border">Not provided</p>
                            </div>
                            <div>
                                <label class="block text-[#1b0e0e] font-medium mb-2">State</label>
                                <p id="display-state" class="text-[#1b0e0e] p-3 bg-gray-50 rounded-lg border">Not provided</p>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-[#1b0e0e] font-medium mb-2">District</label>
                                <p id="display-district" class="text-[#1b0e0e] p-3 bg-gray-50 rounded-lg border">Not provided</p>
                            </div>
                            <div>
                                <label class="block text-[#1b0e0e] font-medium mb-2">Area</label>
                                <p id="display-area" class="text-[#1b0e0e] p-3 bg-gray-50 rounded-lg border">Not provided</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Payment Methods Section -->
                    <div class="bg-white rounded-xl shadow-md p-6 mb-6">
                        <h3 class="text-xl font-bold mb-4 text-[#994d51]">Payment Methods</h3>
                        <div id="display-payment-methods">
                            <p class="text-gray-500">No payment methods saved yet.</p>
                        </div>
                    </div>
                    
                    <!-- Notification Settings Section -->
                    <div class="bg-white rounded-xl shadow-md p-6 mb-6">
                        <h3 class="text-xl font-bold mb-4 text-[#994d51]">Notification Settings</h3>
                        <div class="space-y-6">
                            <!-- Email Notifications -->
                            <div class="border-b border-gray-200 pb-4">
                                <h4 class="font-semibold text-[#1b0e0e] mb-3 flex items-center gap-2">
                                    <svg class="w-5 h-5 text-[#994d51]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                                    </svg>
                                    Email Notifications
                                </h4>
                                <div class="space-y-3">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="font-medium text-[#1b0e0e]">Order Updates</p>
                                            <p class="text-sm text-gray-600">Get notified about order status changes</p>
                                        </div>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" id="email-order-updates" class="sr-only peer" checked>
                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#994d51]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#994d51]"></div>
                                        </label>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="font-medium text-[#1b0e0e]">Promotional Offers</p>
                                            <p class="text-sm text-gray-600">Receive deals, discounts, and special offers</p>
                                        </div>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" id="email-promotions" class="sr-only peer">
                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#994d51]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#994d51]"></div>
                                        </label>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="font-medium text-[#1b0e0e]">Account Security</p>
                                            <p class="text-sm text-gray-600">Security alerts and login notifications</p>
                                        </div>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" id="email-security" class="sr-only peer" checked>
                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#994d51]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#994d51]"></div>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- SMS Notifications -->
                            <div class="border-b border-gray-200 pb-4">
                                <h4 class="font-semibold text-[#1b0e0e] mb-3 flex items-center gap-2">
                                    <svg class="w-5 h-5 text-[#994d51]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                                    </svg>
                                    SMS Notifications
                                </h4>
                                <div class="space-y-3">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="font-medium text-[#1b0e0e]">Delivery Updates</p>
                                            <p class="text-sm text-gray-600">Real-time delivery status and tracking</p>
                                        </div>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" id="sms-delivery" class="sr-only peer" checked>
                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#994d51]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#994d51]"></div>
                                        </label>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="font-medium text-[#1b0e0e]">Order Confirmations</p>
                                            <p class="text-sm text-gray-600">Confirmations when orders are placed</p>
                                        </div>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" id="sms-order-confirm" class="sr-only peer" checked>
                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#994d51]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#994d51]"></div>
                                        </label>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="font-medium text-[#1b0e0e]">Flash Sales</p>
                                            <p class="text-sm text-gray-600">Limited-time offers and flash sales</p>
                                        </div>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" id="sms-flash-sales" class="sr-only peer">
                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#994d51]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#994d51]"></div>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Push Notifications -->
                            <div class="border-b border-gray-200 pb-4">
                                <h4 class="font-semibold text-[#1b0e0e] mb-3 flex items-center gap-2">
                                    <svg class="w-5 h-5 text-[#994d51]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5zM4 19h6v-2H4v2zM4 15h6v-2H4v2zM4 11h6V9H4v2zM4 7h6V5H4v2zM10 7h10V5H10v2zM10 11h10V9H10v2zM10 15h10v-2H10v2zM10 19h10v-2H10v2z"></path>
                                    </svg>
                                    Push Notifications
                                </h4>
                                <div class="space-y-3">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="font-medium text-[#1b0e0e]">App Notifications</p>
                                            <p class="text-sm text-gray-600">In-app notifications and updates</p>
                                        </div>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" id="push-app" class="sr-only peer" checked>
                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#994d51]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#994d51]"></div>
                                        </label>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="font-medium text-[#1b0e0e]">Price Drop Alerts</p>
                                            <p class="text-sm text-gray-600">Notifications when items in your wishlist drop in price</p>
                                        </div>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" id="push-price-drops" class="sr-only peer">
                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#994d51]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#994d51]"></div>
                                        </label>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="font-medium text-[#1b0e0e]">New Product Alerts</p>
                                            <p class="text-sm text-gray-600">Be the first to know about new products</p>
                                        </div>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" id="push-new-products" class="sr-only peer">
                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#994d51]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#994d51]"></div>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Notification Frequency -->
                            <div>
                                <h4 class="font-semibold text-[#1b0e0e] mb-3 flex items-center gap-2">
                                    <svg class="w-5 h-5 text-[#994d51]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    </svg>
                                    Notification Frequency
                                </h4>
                                <div class="space-y-3">
                                    <div>
                                        <label class="block text-sm font-medium text-[#1b0e0e] mb-2">Email Frequency</label>
                                        <select id="email-frequency" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#994d51] focus:border-transparent">
                                            <option value="immediate">Immediate</option>
                                            <option value="daily" selected>Daily Digest</option>
                                            <option value="weekly">Weekly Summary</option>
                                            <option value="never">Never</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-[#1b0e0e] mb-2">SMS Frequency</label>
                                        <select id="sms-frequency" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#994d51] focus:border-transparent">
                                            <option value="immediate" selected>Immediate</option>
                                            <option value="daily">Daily Digest</option>
                                            <option value="never">Never</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Save Button -->
                            <div class="pt-4">
                                <button onclick="saveNotificationSettings()" class="w-full bg-[#994d51] text-white py-3 rounded-lg font-medium hover:bg-[#7a3d41] transition-colors">
                                    Save Notification Settings
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Subscription Settings Section -->
                    <div class="bg-white rounded-xl shadow-md p-6 mb-6">
                        <h3 class="text-xl font-bold mb-4 text-[#994d51]">Subscription Settings</h3>
                        <div class="space-y-6">
                            <!-- Current Subscription -->
                            <div class="border-b border-gray-200 pb-4">
                                <h4 class="font-semibold text-[#1b0e0e] mb-3 flex items-center gap-2">
                                    <svg class="w-5 h-5 text-[#994d51]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    </svg>
                                    Current Subscription
                                </h4>
                                <div class="bg-gradient-to-r from-[#f3e7e8] to-[#fcf8f8] p-4 rounded-lg">
                                    <div class="flex items-center justify-between mb-2">
                                        <h5 class="font-bold text-[#1b0e0e] text-lg">FreshCart Premium</h5>
                                        <span class="bg-[#994d51] text-white px-3 py-1 rounded-full text-sm font-medium">Active</span>
                                    </div>
                                    <p class="text-gray-600 mb-3">Enjoy unlimited free deliveries, exclusive discounts, and priority customer support.</p>
                                    <div class="flex items-center justify-between text-sm">
                                        <span class="text-[#1b0e0e]">Next billing: <span class="font-medium">March 15, 2024</span></span>
                                        <span class="text-[#1b0e0e]">₹299/month</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Subscription Preferences -->
                            <div class="border-b border-gray-200 pb-4">
                                <h4 class="font-semibold text-[#1b0e0e] mb-3 flex items-center gap-2">
                                    <svg class="w-5 h-5 text-[#994d51]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                    </svg>
                                    Subscription Preferences
                                </h4>
                                <div class="space-y-3">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="font-medium text-[#1b0e0e]">Auto-Renewal</p>
                                            <p class="text-sm text-gray-600">Automatically renew subscription when it expires</p>
                                        </div>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" id="auto-renewal" class="sr-only peer" checked>
                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#994d51]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#994d51]"></div>
                                        </label>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="font-medium text-[#1b0e0e]">Billing Notifications</p>
                                            <p class="text-sm text-gray-600">Get notified before subscription renewal</p>
                                        </div>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" id="billing-notifications" class="sr-only peer" checked>
                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#994d51]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#994d51]"></div>
                                        </label>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="font-medium text-[#1b0e0e]">Exclusive Offers</p>
                                            <p class="text-sm text-gray-600">Receive special offers for premium members</p>
                                        </div>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" id="exclusive-offers" class="sr-only peer" checked>
                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#994d51]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#994d51]"></div>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Billing Information -->
                            <div class="border-b border-gray-200 pb-4">
                                <h4 class="font-semibold text-[#1b0e0e] mb-3 flex items-center gap-2">
                                    <svg class="w-5 h-5 text-[#994d51]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                                    </svg>
                                    Billing Information
                                </h4>
                                <div class="space-y-3">
                                    <div>
                                        <label class="block text-sm font-medium text-[#1b0e0e] mb-2">Billing Cycle</label>
                                        <select id="billing-cycle" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#994d51] focus:border-transparent">
                                            <option value="monthly" selected>Monthly (₹299/month)</option>
                                            <option value="quarterly">Quarterly (₹799/3 months)</option>
                                            <option value="yearly">Yearly (₹2,999/year)</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-[#1b0e0e] mb-2">Payment Method</label>
                                        <select id="subscription-payment" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#994d51] focus:border-transparent">
                                            <option value="card">Credit/Debit Card</option>
                                            <option value="upi">UPI</option>
                                            <option value="netbanking">Net Banking</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Subscription Actions -->
                            <div>
                                <h4 class="font-semibold text-[#1b0e0e] mb-3 flex items-center gap-2">
                                    <svg class="w-5 h-5 text-[#994d51]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    </svg>
                                    Subscription Actions
                                </h4>
                                <div class="space-y-3">
                                    <button onclick="pauseSubscription()" class="w-full bg-yellow-500 text-white py-3 rounded-lg font-medium hover:bg-yellow-600 transition-colors">
                                        Pause Subscription
                                    </button>
                                    <button onclick="cancelSubscription()" class="w-full bg-red-600 text-white py-3 rounded-lg font-medium hover:bg-red-700 transition-colors">
                                        Cancel Subscription
                                    </button>
                                    <button onclick="upgradeSubscription()" class="w-full bg-[#994d51] text-white py-3 rounded-lg font-medium hover:bg-[#7a3d41] transition-colors">
                                        Upgrade to Annual Plan
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Save Button -->
                            <div class="pt-4">
                                <button onclick="saveSubscriptionSettings()" class="w-full bg-[#994d51] text-white py-3 rounded-lg font-medium hover:bg-[#7a3d41] transition-colors">
                                    Save Subscription Settings
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Order History Section -->
                    <div class="bg-white rounded-xl shadow-md p-6 mb-6">
                        <h3 class="text-xl font-bold mb-4 text-[#994d51]">Order History</h3>
                        <div class="space-y-6">
                            <!-- Order History Preferences -->
                            <div class="border-b border-gray-200 pb-4">
                                <h4 class="font-semibold text-[#1b0e0e] mb-3 flex items-center gap-2">
                                    <svg class="w-5 h-5 text-[#994d51]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                                    </svg>
                                    Order History Preferences
                                </h4>
                                <div class="space-y-3">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="font-medium text-[#1b0e0e]">Auto-Save Orders</p>
                                            <p class="text-sm text-gray-600">Automatically save all order details to history</p>
                                        </div>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" id="auto-save-orders" class="sr-only peer" checked>
                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#994d51]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#994d51]"></div>
                                        </label>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="font-medium text-[#1b0e0e]">Order Notifications</p>
                                            <p class="text-sm text-gray-600">Get notified about order status updates</p>
                                        </div>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" id="order-notifications" class="sr-only peer" checked>
                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#994d51]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#994d51]"></div>
                                        </label>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="font-medium text-[#1b0e0e]">Reorder Suggestions</p>
                                            <p class="text-sm text-gray-600">Get suggestions to reorder frequently bought items</p>
                                        </div>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" id="reorder-suggestions" class="sr-only peer" checked>
                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#994d51]/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#994d51]"></div>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Recent Orders -->
                            <div class="border-b border-gray-200 pb-4">
                                <h4 class="font-semibold text-[#1b0e0e] mb-3 flex items-center gap-2">
                                    <svg class="w-5 h-5 text-[#994d51]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                                    </svg>
                                    Recent Orders
                                </h4>
                                <div id="recent-orders" class="space-y-3">
                                    <!-- Order items will be loaded here -->
                                </div>
                            </div>
                            
                            <!-- Order History Actions -->
                            <div>
                                <h4 class="font-semibold text-[#1b0e0e] mb-3 flex items-center gap-2">
                                    <svg class="w-5 h-5 text-[#994d51]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"></path>
                                    </svg>
                                    Order History Actions
                                </h4>
                                <div class="space-y-3">
                                    <button onclick="exportOrderHistory()" class="w-full bg-[#994d51] text-white py-3 rounded-lg font-medium hover:bg-[#7a3d41] transition-colors">
                                        Export Order History
                                    </button>
                                    <button onclick="clearOrderHistory()" class="w-full bg-red-600 text-white py-3 rounded-lg font-medium hover:bg-red-700 transition-colors">
                                        Clear Order History
                                    </button>
                                    <button onclick="viewAllOrders()" class="w-full bg-gray-600 text-white py-3 rounded-lg font-medium hover:bg-gray-700 transition-colors">
                                        View All Orders
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Save Button -->
                            <div class="pt-4">
                                <button onclick="saveOrderHistorySettings()" class="w-full bg-[#994d51] text-white py-3 rounded-lg font-medium hover:bg-[#7a3d41] transition-colors">
                                    Save Order History Settings
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Help & Support Section -->
                    <div class="bg-white rounded-xl shadow-md p-6 mb-6">
                        <h3 class="text-xl font-bold mb-4 text-[#994d51]">Help & Support</h3>
                        <div class="space-y-4">
                            <!-- FAQ Section -->
                            <div class="border-b border-gray-200 pb-4">
                                <h4 class="font-semibold text-[#1b0e0e] mb-3">Frequently Asked Questions</h4>
                                <div class="space-y-3">
                                    <div class="bg-gray-50 p-3 rounded-lg">
                                        <h5 class="font-medium text-[#1b0e0e] mb-1">How do I change my delivery address?</h5>
                                        <p class="text-sm text-gray-600">Go to Edit Profile and update your address information in the Address Information section.</p>
                                    </div>
                                    <div class="bg-gray-50 p-3 rounded-lg">
                                        <h5 class="font-medium text-[#1b0e0e] mb-1">How can I add a new payment method?</h5>
                                        <p class="text-sm text-gray-600">Edit your profile and scroll to the Payment Methods section to add credit cards, UPI, or other payment options.</p>
                                    </div>
                                    <div class="bg-gray-50 p-3 rounded-lg">
                                        <h5 class="font-medium text-[#1b0e0e] mb-1">What if my order is delayed?</h5>
                                        <p class="text-sm text-gray-600">Contact our customer support team through the contact form below or call our helpline.</p>
                                    </div>
                                    <div class="bg-gray-50 p-3 rounded-lg">
                                        <h5 class="font-medium text-[#1b0e0e] mb-1">How do I cancel my order?</h5>
                                        <p class="text-sm text-gray-600">You can cancel your order within 30 minutes of placing it through your order history or by contacting support.</p>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Contact Support -->
                            <div class="border-b border-gray-200 pb-4">
                                <h4 class="font-semibold text-[#1b0e0e] mb-3">Contact Support</h4>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                    <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                                        <div class="w-10 h-10 bg-[#994d51] rounded-full flex items-center justify-center">
                                            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                                            </svg>
                                        </div>
                                        <div>
                                            <p class="font-medium text-[#1b0e0e]">Call Us</p>
                                            <p class="text-sm text-gray-600">1800-FRESH-CART</p>
                                        </div>
                                    </div>
                                    <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                                        <div class="w-10 h-10 bg-[#994d51] rounded-full flex items-center justify-center">
                                            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                                            </svg>
                                        </div>
                                        <div>
                                            <p class="font-medium text-[#1b0e0e]">Email Us</p>
                                            <p class="text-sm text-gray-600">support@freshcart.com</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                                    <div class="w-10 h-10 bg-[#994d51] rounded-full flex items-center justify-center">
                                        <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                        </svg>
                                    </div>
                                    <div>
                                        <p class="font-medium text-[#1b0e0e]">Support Hours</p>
                                        <p class="text-sm text-gray-600">Monday - Sunday: 7:00 AM - 11:00 PM</p>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Contact Form -->
                            <div>
                                <h4 class="font-semibold text-[#1b0e0e] mb-3">Send us a Message</h4>
                                <form id="support-form" class="space-y-3">
                                    <div>
                                        <label class="block text-sm font-medium text-[#1b0e0e] mb-1">Subject</label>
                                        <select id="support-subject" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#994d51] focus:border-transparent">
                                            <option value="">Select a subject</option>
                                            <option value="order-issue">Order Issue</option>
                                            <option value="delivery-problem">Delivery Problem</option>
                                            <option value="payment-issue">Payment Issue</option>
                                            <option value="account-problem">Account Problem</option>
                                            <option value="product-inquiry">Product Inquiry</option>
                                            <option value="other">Other</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-[#1b0e0e] mb-1">Message</label>
                                        <textarea id="support-message" rows="4" placeholder="Describe your issue or question..." class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#994d51] focus:border-transparent resize-none"></textarea>
                                    </div>
                                    <button type="submit" class="w-full bg-[#994d51] text-white py-3 rounded-lg font-medium hover:bg-[#7a3d41] transition-colors">
                                        Send Message
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Account Actions -->
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <h3 class="text-xl font-bold mb-4 text-[#994d51]">Account Actions</h3>
                        <div class="flex flex-col gap-3">
                            <button onclick="window.location.href='profile.html'" class="w-full bg-[#994d51] text-white py-3 rounded-lg font-medium hover:bg-[#7a3d41] transition-colors">
                                Edit Profile
                            </button>
                            <button onclick="deleteAccount()" class="w-full bg-red-600 text-white py-3 rounded-lg font-medium hover:bg-red-700 transition-colors">
                                Delete Account
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        function handleProfilePhotoUpload(event) {
            const file = event.target.files[0];
            if (file) {
                if (file.size > 5 * 1024 * 1024) { // 5MB limit
                    alert('File size should be less than 5MB');
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = document.getElementById('profile-photo-img');
                    const placeholder = document.getElementById('profile-photo-placeholder');
                    
                    img.src = e.target.result;
                    img.classList.remove('hidden');
                    placeholder.classList.add('hidden');
                    
                    // Save to localStorage
                    localStorage.setItem('profilePhoto', e.target.result);
                    
                    alert('Profile photo uploaded successfully!');
                };
                reader.readAsDataURL(file);
            }
        }

        function removeProfilePhoto() {
            if (confirm('Are you sure you want to remove your profile photo?')) {
                const img = document.getElementById('profile-photo-img');
                const placeholder = document.getElementById('profile-photo-placeholder');
                
                img.src = '';
                img.classList.add('hidden');
                placeholder.classList.remove('hidden');
                
                // Remove from localStorage
                localStorage.removeItem('profilePhoto');
                
                alert('Profile photo removed successfully!');
            }
        }

        function loadProfilePhoto() {
            const savedPhoto = localStorage.getItem('profilePhoto');
            if (savedPhoto) {
                const img = document.getElementById('profile-photo-img');
                const placeholder = document.getElementById('profile-photo-placeholder');
                
                img.src = savedPhoto;
                img.classList.remove('hidden');
                placeholder.classList.add('hidden');
            }
        }

        function loadAccountDetails() {
            const savedProfile = localStorage.getItem('userProfile');
            if (savedProfile) {
                const profileData = JSON.parse(savedProfile);
                
                // Display personal information
                document.getElementById('display-firstname').textContent = profileData.firstName || 'Not provided';
                document.getElementById('display-lastname').textContent = profileData.lastName || 'Not provided';
                document.getElementById('display-email').textContent = profileData.email || 'Not provided';
                document.getElementById('display-phone').textContent = profileData.phone || 'Not provided';
                
                // Display address information
                document.getElementById('display-address').textContent = profileData.deliveryAddress || 'Not provided';
                document.getElementById('display-pincode').textContent = profileData.pinCode || 'Not provided';
                document.getElementById('display-state').textContent = profileData.state || 'Not provided';
                document.getElementById('display-district').textContent = profileData.district || 'Not provided';
                document.getElementById('display-area').textContent = profileData.area || 'Not provided';
                
                // Display payment methods
                const paymentContainer = document.getElementById('display-payment-methods');
                if (profileData.paymentMethods && profileData.paymentMethods.length > 0) {
                    paymentContainer.innerHTML = profileData.paymentMethods.map(method => `
                        <div class="flex items-center gap-3 bg-[#fcf8f8] p-3 rounded-lg mb-2">
                            <div class="w-8 h-8 bg-[#994d51] rounded-full flex items-center justify-center text-white text-xs font-bold">
                                ${method.type.charAt(0).toUpperCase()}
                            </div>
                            <div>
                                <p class="font-medium">${method.name}</p>
                                <p class="text-sm text-gray-600">${method.details}</p>
                            </div>
                        </div>
                    `).join('');
                } else {
                    paymentContainer.innerHTML = '<p class="text-gray-500">No payment methods saved yet.</p>';
                }
            } else {
                // Show message if no profile data exists
                document.querySelector('.layout-content-container').innerHTML = `
                    <div class="text-center py-10">
                        <h2 class="text-2xl font-bold text-[#994d51] mb-4">No Profile Data Found</h2>
                        <p class="text-gray-600 mb-6">You haven't created a profile yet. Please create your profile first.</p>
                        <button onclick="window.location.href='profile.html'" class="bg-[#994d51] text-white px-6 py-3 rounded-lg font-medium hover:bg-[#7a3d41] transition-colors">
                            Create Profile
                        </button>
                    </div>
                `;
            }
        }
        
        function deleteAccount() {
            if (confirm('Are you sure you want to delete your account? This action cannot be undone.')) {
                // Clear all user data
                localStorage.removeItem('userProfile');
                localStorage.removeItem('savedPaymentMethods');
                localStorage.removeItem('profilePhoto');
                localStorage.removeItem('isLoggedIn');
                
                alert('Account deleted successfully. You will be redirected to the home page.');
                window.location.href = 'Home.html';
            }
        }
        
        // Handle support form submission
        document.getElementById('support-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const subject = document.getElementById('support-subject').value;
            const message = document.getElementById('support-message').value;
            
            if (!subject) {
                alert('Please select a subject for your message.');
                return;
            }
            
            if (!message.trim()) {
                alert('Please enter your message.');
                return;
            }
            
            // Here you would typically send the message to your backend
            // For now, we'll just show a success message and clear the form
            alert('Thank you for your message! We will get back to you within 24 hours.');
            
            // Clear the form
            document.getElementById('support-subject').value = '';
            document.getElementById('support-message').value = '';
        });
        
        function saveNotificationSettings() {
            // Collect all notification settings
            const notificationSettings = {
                email: {
                    orderUpdates: document.getElementById('email-order-updates').checked,
                    promotions: document.getElementById('email-promotions').checked,
                    security: document.getElementById('email-security').checked,
                    frequency: document.getElementById('email-frequency').value
                },
                sms: {
                    delivery: document.getElementById('sms-delivery').checked,
                    orderConfirm: document.getElementById('sms-order-confirm').checked,
                    flashSales: document.getElementById('sms-flash-sales').checked,
                    frequency: document.getElementById('sms-frequency').value
                },
                push: {
                    app: document.getElementById('push-app').checked,
                    priceDrops: document.getElementById('push-price-drops').checked,
                    newProducts: document.getElementById('push-new-products').checked
                },
                lastUpdated: new Date().toISOString()
            };
            
            // Save to localStorage
            localStorage.setItem('notificationSettings', JSON.stringify(notificationSettings));
            
            // Show success message
            alert('Notification settings saved successfully!');
        }
        
        function loadNotificationSettings() {
            const savedSettings = localStorage.getItem('notificationSettings');
            if (savedSettings) {
                const settings = JSON.parse(savedSettings);
                
                // Load email settings
                document.getElementById('email-order-updates').checked = settings.email?.orderUpdates ?? true;
                document.getElementById('email-promotions').checked = settings.email?.promotions ?? false;
                document.getElementById('email-security').checked = settings.email?.security ?? true;
                document.getElementById('email-frequency').value = settings.email?.frequency ?? 'daily';
                
                // Load SMS settings
                document.getElementById('sms-delivery').checked = settings.sms?.delivery ?? true;
                document.getElementById('sms-order-confirm').checked = settings.sms?.orderConfirm ?? true;
                document.getElementById('sms-flash-sales').checked = settings.sms?.flashSales ?? false;
                document.getElementById('sms-frequency').value = settings.sms?.frequency ?? 'immediate';
                
                // Load push settings
                document.getElementById('push-app').checked = settings.push?.app ?? true;
                document.getElementById('push-price-drops').checked = settings.push?.priceDrops ?? false;
                document.getElementById('push-new-products').checked = settings.push?.newProducts ?? false;
            }
        }
        
        function saveSubscriptionSettings() {
            // Collect all subscription settings
            const subscriptionSettings = {
                preferences: {
                    autoRenewal: document.getElementById('auto-renewal').checked,
                    billingNotifications: document.getElementById('billing-notifications').checked,
                    exclusiveOffers: document.getElementById('exclusive-offers').checked
                },
                billing: {
                    cycle: document.getElementById('billing-cycle').value,
                    paymentMethod: document.getElementById('subscription-payment').value
                },
                lastUpdated: new Date().toISOString()
            };
            
            // Save to localStorage
            localStorage.setItem('subscriptionSettings', JSON.stringify(subscriptionSettings));
            
            // Show success message
            alert('Subscription settings saved successfully!');
        }
        
        function loadSubscriptionSettings() {
            const savedSettings = localStorage.getItem('subscriptionSettings');
            if (savedSettings) {
                const settings = JSON.parse(savedSettings);
                
                // Load preferences
                document.getElementById('auto-renewal').checked = settings.preferences?.autoRenewal ?? true;
                document.getElementById('billing-notifications').checked = settings.preferences?.billingNotifications ?? true;
                document.getElementById('exclusive-offers').checked = settings.preferences?.exclusiveOffers ?? true;
                
                // Load billing settings
                document.getElementById('billing-cycle').value = settings.billing?.cycle ?? 'monthly';
                document.getElementById('subscription-payment').value = settings.billing?.paymentMethod ?? 'card';
            }
        }
        
        function pauseSubscription() {
            if (confirm('Are you sure you want to pause your subscription? You can resume it anytime.')) {
                alert('Your subscription has been paused. You can resume it from your account settings.');
                // Here you would typically make an API call to pause the subscription
            }
        }
        
        function cancelSubscription() {
            if (confirm('Are you sure you want to cancel your subscription? This action cannot be undone.')) {
                if (confirm('You will lose access to premium features. Are you absolutely sure?')) {
                    alert('Your subscription has been cancelled. You will have access until the end of your current billing period.');
                    // Here you would typically make an API call to cancel the subscription
                }
            }
        }
        
        function upgradeSubscription() {
            if (confirm('Upgrade to our annual plan and save 17%? You\'ll be charged ₹2,999/year instead of ₹299/month.')) {
                alert('Thank you for upgrading! Your new annual plan will start from your next billing cycle.');
                // Here you would typically make an API call to upgrade the subscription
            }
        }
        
        function saveOrderHistorySettings() {
            // Collect all order history settings
            const orderHistorySettings = {
                preferences: {
                    autoSaveOrders: document.getElementById('auto-save-orders').checked,
                    orderNotifications: document.getElementById('order-notifications').checked,
                    reorderSuggestions: document.getElementById('reorder-suggestions').checked
                },
                lastUpdated: new Date().toISOString()
            };
            
            // Save to localStorage
            localStorage.setItem('orderHistorySettings', JSON.stringify(orderHistorySettings));
            
            // Show success message
            alert('Order history settings saved successfully!');
        }
        
        function loadOrderHistorySettings() {
            const savedSettings = localStorage.getItem('orderHistorySettings');
            if (savedSettings) {
                const settings = JSON.parse(savedSettings);
                
                // Load preferences
                document.getElementById('auto-save-orders').checked = settings.preferences?.autoSaveOrders ?? true;
                document.getElementById('order-notifications').checked = settings.preferences?.orderNotifications ?? true;
                document.getElementById('reorder-suggestions').checked = settings.preferences?.reorderSuggestions ?? true;
            }
        }
        
        function loadRecentOrders() {
            const recentOrders = [
                {
                    id: 'ORD-2024-001',
                    date: '2024-02-15',
                    status: 'Delivered',
                    items: 8,
                    total: '₹1,247',
                    itemsList: ['Fresh Tomatoes', 'Organic Milk', 'Whole Wheat Bread', 'Bananas', 'Onions', 'Potatoes', 'Carrots', 'Spinach']
                },
                {
                    id: 'ORD-2024-002',
                    date: '2024-02-10',
                    status: 'Delivered',
                    items: 5,
                    total: '₹856',
                    itemsList: ['Chicken Breast', 'Rice', 'Cooking Oil', 'Garlic', 'Ginger']
                },
                {
                    id: 'ORD-2024-003',
                    date: '2024-02-05',
                    status: 'Delivered',
                    items: 12,
                    total: '₹2,134',
                    itemsList: ['Apples', 'Oranges', 'Milk', 'Bread', 'Eggs', 'Butter', 'Cheese', 'Yogurt', 'Cereal', 'Honey', 'Tea', 'Coffee']
                }
            ];
            
            const container = document.getElementById('recent-orders');
            container.innerHTML = recentOrders.map(order => `
                <div class="bg-gray-50 p-4 rounded-lg border">
                    <div class="flex items-center justify-between mb-2">
                        <div class="flex items-center gap-3">
                            <h5 class="font-semibold text-[#1b0e0e]">${order.id}</h5>
                            <span class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium">${order.status}</span>
                        </div>
                        <span class="text-sm text-gray-600">${order.date}</span>
                    </div>
                    <p class="text-sm text-gray-600 mb-2">${order.items} items • ${order.total}</p>
                    <p class="text-xs text-gray-500">${order.itemsList.slice(0, 3).join(', ')}${order.itemsList.length > 3 ? '...' : ''}</p>
                    <div class="flex gap-2 mt-3">
                        <button onclick="reorderItems('${order.id}')" class="text-[#994d51] text-sm font-medium hover:underline">Reorder</button>
                        <button onclick="viewOrderDetails('${order.id}')" class="text-[#994d51] text-sm font-medium hover:underline">View Details</button>
                    </div>
                </div>
            `).join('');
        }
        
        function reorderItems(orderId) {
            alert(`Adding items from order ${orderId} to your cart. Redirecting to checkout...`);
            // Here you would typically add the items to cart and redirect to checkout
        }
        
        function viewOrderDetails(orderId) {
            alert(`Viewing details for order ${orderId}`);
            // Here you would typically show a detailed order view
        }
        
        function exportOrderHistory() {
            alert('Your order history has been exported and sent to your email address.');
            // Here you would typically generate and send a CSV/PDF report
        }
        
        function clearOrderHistory() {
            if (confirm('Are you sure you want to clear your order history? This action cannot be undone.')) {
                if (confirm('This will remove all your past order records. Are you absolutely sure?')) {
                    alert('Order history has been cleared successfully.');
                    document.getElementById('recent-orders').innerHTML = '<p class="text-gray-500 text-center py-4">No orders found</p>';
                }
            }
        }
        
        function viewAllOrders() {
            alert('Redirecting to complete order history page...');
            // Here you would typically redirect to a dedicated orders page
        }
        
        // Load account details when page loads
        window.addEventListener('DOMContentLoaded', function() {
            loadAccountDetails();
            loadProfilePhoto();
            loadNotificationSettings();
            loadSubscriptionSettings();
            loadOrderHistorySettings();
            loadRecentOrders();
        });
    </script>
</body>
</html>
